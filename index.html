<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Generador de Tablas de Verdad</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="contenedor">
      <h1>Generador de Tablas de Verdad</h1>
      <label for="variables">Número de variables:</label>
      <select id="variables">
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
      </select>

      <label for="operador">Operador lógico:</label>
      <select id="operador">
        <option value="Y">Conjunción (A ∧ B)</option>
        <option value="O">Disyunción (A ∨ B)</option>
        <option value="XOR">Disyunción exclusiva (A ⊻ B)</option>
        <option value="COND">Condicional (A → B)</option>
        <option value="BICOND">Bicondicional (A ↔ B)</option>
      </select>

      <button onclick="generarTabla()">Generar tabla</button>

      <div id="tabla"></div>

      <script>
        function generarCombinaciones(n) {
          const filas = Math.pow(2, n);
          const combinaciones = [];

          for (let i = 0; i < filas; i++) {
            const bin = i.toString(2).padStart(n, "0").split("").map(Number);
            combinaciones.push(bin);
          }

          return combinaciones;
        }

        function evaluarOperacion(op, val1, val2) {
          switch (op) {
            case "Y":
              return val1 && val2;
            case "O":
              return val1 || val2;
            case "X O R":
              return val1 !== val2;
            case "COND":
              return !val1 || val2;
            case "BICOND":
              return val1 === val2;
            default:
              return false;
          }
        }

        function generarTabla() {
          const numVars = parseInt(document.getElementById("variables").value);
          const operador = document.getElementById("operador").value;
          const combinaciones = generarCombinaciones(numVars);

          const variables = ["A", "B", "C", "D"].slice(0, numVars);
          let resultadoHTML = "<table><thead><tr>";

          variables.forEach((v) => {
            resultadoHTML += `<th>${v}</th>`;
          });

          resultadoHTML += `<th>Resultado</th></tr></thead><tbody>`;

          combinaciones.forEach((fila) => {
            resultadoHTML += "<tr>";
            fila.forEach((v) => {
              resultadoHTML += `<td>${v}</td>`;
            });

            // Evaluamos la operación lógica solo sobre las dos primeras variables (A y B)
            const resultado = evaluarOperacion(operador, fila[0], fila[1])
              ? 1
              : 0;
            resultadoHTML += `<td>${resultado}</td></tr>`;
          });

          resultadoHTML += "</tbody></table>";

          document.getElementById("tabla").innerHTML = resultadoHTML;
        }
      </script>
    </div>
  </body>
</html>
